<main>
  <a routerLink="/editar-set" routerLinkActive="active-link">
    <button>
      <img src="../../../assets/Iconos/back.png" class="back" alt="play" />
    </button>
  </a>
  
    <p class="title"><span>Canciones</span> recomendadas</p>

    <div>
        <button (click)="onRefreshRecommendations()">
            <img src="../../../assets/Iconos/refresh.png" class="act" alt="actualizar" />
          </button>
      </div>
  


<div class="content">
  <div *ngIf="isLoading" class="loading-container">
    <p>Cargando recomendaciones...</p>
</div>
  <div class="canciones">
    <div *ngIf="isLoading" class="loading-container">
      <p>Buscando canciones para tu set...</p>
  </div>
    <app-tarjeta-cancion
      *ngFor="let recommendation of recommendations"
      [song]="recommendation"
      (addSongToSet)="onAddSongToSet($event)"
      (playSong)="onPlaySong($event)">
    </app-tarjeta-cancion>
  </div>

  
      <div *ngIf="spotifyUrl" class="repro">
        <iframe *ngIf="spotifyUrl" 
        [src]="spotifyUrl | safe" 
        width="100%" 
        height="100%" 
        frameborder="0" 
        allowtransparency="true" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
      </div>
      
    </div>
  
    <div *ngIf="showValidation">
      <app-validacion-anadir 
        [songId]="selectedSongId"
        (closeValidation)="closeVal()" 
        (confirmAdd)="onConfirmAdd($event)">
      </app-validacion-anadir>
    </div>
    
  </main>
  
  